(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,a,t){e.exports=t(80)},44:function(e,a,t){},49:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(21),c=t.n(s),o=(t(44),t(1)),i=t(2),p=t(4),l=t(3),u=t(5),m=t(25),h=t(16),d=t(10),y=(t(49),t(18)),f=t(15),v=function(e){return{type:"createGame",payload:{players:e}}},b=function(e,a){return{type:"incRound",payload:{gameId:e,round:a}}},E=[],g=0,w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"createGame":return g++,[].concat(Object(f.a)(e),[{id:g,players:n.players,roundsNumb:1,rounds:[]}]);case"incRound":var r=e.find(function(e){return e.id===n.gameId});r.rounds.push(n.round);var s=r.roundsNumb+1;return r.roundsNumb=s,Object(f.a)(e);case"addWinner":return e.find(function(e){return e.id===n}).winner=n,Object(f.a)(e);default:return e}},O=function(e){return{type:"createPLayer",payload:e}},j=function(e,a){return{type:"addWeapon",payload:{playerId:e,weapon:a}}},N=function(e){return{type:"lostLife",payload:e}},k=[],_=0,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"createPLayer":return _++,[].concat(Object(f.a)(e),[{id:_,player:n,life:3}]);case"addWeapon":return e.find(function(e){return e.id===n.playerId}).weapon=n.weapon,Object(f.a)(e);case"lostLife":var r=e.find(function(e){return e.id===n}),s=r.life-1;return r.life=s,Object(f.a)(e);default:return e}},R=Object(y.b)({Game:w,Players:S}),P=Object(y.c)(R),C=t(38),W=(t(50),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(s)))).btnStart=function(){return""===t.props.player_one||""===t.props.player_two?r.a.createElement("span",{className:"btn"},"Start Game"):r.a.createElement("span",{className:"btn btn-active",onClick:t.props.startGame},"Start Game")},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"StartGameView"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"title"},r.a.createElement("h4",null,"Welcome to"),r.a.createElement("h1",null,"Game of drones")),r.a.createElement("div",{className:"players-container"},r.a.createElement("div",{className:"p1-army"},r.a.createElement("div",{className:"rock-p1 weapon"},r.a.createElement("img",{src:"./imgs/rock-p1.svg",alt:"Rock"})),r.a.createElement("div",{className:"paper-p1 weapon"},r.a.createElement("img",{src:"./imgs/paper-p1.svg",alt:"Paper"})),r.a.createElement("div",{className:"scissors-p1 weapon"},r.a.createElement("img",{src:"./imgs/scissors-p1.svg",alt:"Scissors"}))),r.a.createElement("div",{className:"p2-army"},r.a.createElement("div",{className:"rock-p2 weapon"},r.a.createElement("img",{src:"./imgs/scissors-p2.svg",alt:"Scissors"})),r.a.createElement("div",{className:"paper-p2 weapon"},r.a.createElement("img",{src:"./imgs/paper-p2.svg",alt:"Paper"})),r.a.createElement("div",{className:"scissors-p2 weapon"},r.a.createElement("img",{src:"./imgs/rock-p2.svg",alt:"Rock"}))),r.a.createElement("input",{id:"player_one",className:"form-control",type:"text",placeholder:"Player 1 name",value:this.props.player_one,onChange:this.props.onInputChange}),r.a.createElement("h2",null,"VS"),r.a.createElement("input",{id:"player_two",className:"form-control",type:"text",placeholder:"Player 2 name",value:this.props.player_two,onChange:this.props.onInputChange})),r.a.createElement("div",{className:"btn-container"},r.a.createElement("h4",null,"Insert names to start the game"),this.btnStart())))}}]),a}(n.Component)),x=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(p.a)(this,Object(l.a)(a).call(this,e))).onInputChange=function(e){var a=e.target,n=a.id,r=a.value,s=Object(C.a)({},t.state.players);s[n]=r,t.setState({players:s})},t.startGame=function(){t.props.createPlayer(t.state.players.player_one),t.props.createPlayer(t.state.players.player_two),t.props.createGame(t.state.players),t.props.history.push("/p1")},t.state={players:{player_one:"",player_two:""}},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(W,{player_one:this.state.players.player_one,player_two:this.state.players.player_two,onInputChange:this.onInputChange,startGame:this.startGame})}}]),a}(n.Component),G={createPlayer:O,createGame:v},I=Object(d.b)(function(e){return{players:e.Players}},G)(x),L=(t(51),function(e){function a(){return Object(o.a)(this,a),Object(p.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header"},r.a.createElement("h1",null,"Game of drones"))}}]),a}(n.Component)),F=function(e){function a(){return Object(o.a)(this,a),Object(p.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(L,null)}}]),a}(n.Component),V=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(s)))).btnChoose=function(){return""===t.props.player_weapon?r.a.createElement("span",{className:"btn"},"Ready"):r.a.createElement("span",{className:"btn btn-active",onClick:t.props.onReady},"Ready")},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"PlayerOne player"},r.a.createElement(F,null),r.a.createElement("div",{className:"p1-army"},r.a.createElement("div",{className:"rock-p1 weapon"},r.a.createElement("img",{src:"./imgs/rock-p1.svg",alt:"Rock",onClick:this.props.chooseWeapon})),r.a.createElement("div",{className:"paper-p1 weapon"},r.a.createElement("img",{src:"./imgs/paper-p1.svg",alt:"Paper",onClick:this.props.chooseWeapon})),r.a.createElement("div",{className:"scissors-p1 weapon"},r.a.createElement("img",{src:"./imgs/scissors-p1.svg",alt:"Scissors",onClick:this.props.chooseWeapon}))),r.a.createElement("div",{className:"btn-container"},r.a.createElement("h2",null,this.props.player_name," choose your weapon"),this.btnChoose()))}}]),a}(n.Component),A=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(p.a)(this,Object(l.a)(a).call(this,e))).onReady=function(){t.props.addWeapon(1,t.state.weapon),t.props.history.push("/p2")},t.chooseWeapon=function(e){var a=e.target,n=document.getElementsByClassName("scaled")[0];n&&n.classList.remove("scaled"),a.parentElement.className+=" scaled",t.setState({weapon:a.alt})},t.state={weapon:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){void 0===this.props.players[0]&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(V,{player_name:this.props.players[0].player,player_weapon:this.state.weapon,onReady:this.onReady,chooseWeapon:this.chooseWeapon})}}]),a}(n.Component),B={addWeapon:j},T=Object(d.b)(function(e){return{players:e.Players}},B)(A),M=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(t=Object(p.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(s)))).btnChoose=function(){return""===t.props.player_weapon?r.a.createElement("span",{className:"btn"},"Ready"):r.a.createElement("span",{className:"btn btn-active",onClick:t.props.onReady},"Ready")},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"PlayerTwo player"},r.a.createElement(F,null),r.a.createElement("div",{className:"p2-army"},r.a.createElement("div",{className:"scissors-p1 weapon"},r.a.createElement("img",{src:"./imgs/scissors-p2.svg",alt:"Scissors",onClick:this.props.chooseWeapon})),r.a.createElement("div",{className:"paper-p1 weapon"},r.a.createElement("img",{src:"./imgs/paper-p2.svg",alt:"Paper",onClick:this.props.chooseWeapon})),r.a.createElement("div",{className:"rock-p2 weapon"},r.a.createElement("img",{src:"./imgs/rock-p2.svg",alt:"Rock",onClick:this.props.chooseWeapon}))),r.a.createElement("div",{className:"btn-container"},r.a.createElement("h2",null,this.props.player_name," choose your weapon"),this.btnChoose()))}}]),a}(n.Component),H=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(p.a)(this,Object(l.a)(a).call(this,e))).onReady=function(){t.props.addWeapon(2,t.state.weapon),t.props.history.push("/fight")},t.chooseWeapon=function(e){var a=e.target,n=document.getElementsByClassName("scaled")[0];n&&n.classList.remove("scaled"),a.parentElement.className+=" scaled",t.setState({weapon:a.alt})},t.state={weapon:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){void 0===this.props.players[1]&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(M,{player_name:this.props.players[1].player,player_weapon:this.state.weapon,onReady:this.onReady,chooseWeapon:this.chooseWeapon})}}]),a}(n.Component),J={addWeapon:j},D=Object(d.b)(function(e){return{players:e.Players}},J)(H),$=t(14),q=t.n($),z=t(19),K=function(e,a){switch("".concat(e," ").concat(a)){case"Rock Scissors":case"Paper Rock":case"Scissors Paper":return 1;case"Rock Paper":case"Paper Scissors":case"Scissors Rock":return 2;case"Rock Rock":case"Paper Paper":case"Scissors Scissors":return 0}},Q=function(e){e.previousSibling&&e.nextSibling?(e.previousSibling.style.display="none",e.nextSibling.style.display="none"):e.previousSibling?(e.previousSibling.previousSibling.style.display="none",e.previousSibling.style.display="none"):(e.nextSibling.nextSibling.style.display="none",e.nextSibling.style.display="none")},U=(t(54),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(p.a)(this,Object(l.a)(a).call(this,e))).setLife=function(e){return 2===e?"66":1===e?"33":void(e<1&&t.props.goToWinnerPage())},t.renderBtnFight=function(){return!(t.props.counter>0)&&(t.props.winner||t.props.tie?r.a.createElement("span",{className:"btn btn-active",onClick:t.props.saveRound},"Choose Weapon"):r.a.createElement("span",{className:"btn btn-active",onClick:t.props.onFight},"Fight"))},t.renderVs=function(){return t.props.counter>0?r.a.createElement("h2",null,t.props.counter):t.props.winner?r.a.createElement("h2",{className:"wins"},t.props.winner,r.a.createElement("br",null),"Wins!"):t.props.tie?r.a.createElement("h2",{className:"wins"},"It's a",r.a.createElement("br",null),t.props.tie):r.a.createElement("h2",null,"VS")},t.showWeapons=function(){if(t.props.winner||t.props.tie){var e="".concat(t.props.player_one.weapon,"_1"),a="".concat(t.props.player_two.weapon,"_2");Q(t[e].current),Q(t[a].current)}},t.Rock_1=r.a.createRef(),t.Paper_1=r.a.createRef(),t.Scissors_1=r.a.createRef(),t.Rock_2=r.a.createRef(),t.Paper_2=r.a.createRef(),t.Scissors_2=r.a.createRef(),t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"FightView"},r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement("div",{className:"players-container"},r.a.createElement("div",{className:"p1-army"},r.a.createElement("div",{ref:this.Rock_1,className:"rock-p1 weapon"},r.a.createElement("img",{src:"./imgs/rock-p1.svg",alt:"Rock"})),r.a.createElement("div",{ref:this.Paper_1,className:"paper-p1 weapon"},r.a.createElement("img",{src:"./imgs/paper-p1.svg",alt:"Paper"})),r.a.createElement("div",{ref:this.Scissors_1,className:"scissors-p1 weapon"},r.a.createElement("img",{src:"./imgs/scissors-p1.svg",alt:"Scissors"}))),r.a.createElement("div",{className:"vs"},r.a.createElement("div",null,this.renderVs()),r.a.createElement("div",null,r.a.createElement("h3",{className:"round-wins"},"Round ",this.props.round))),r.a.createElement("div",{className:"p2-army"},r.a.createElement("div",{ref:this.Scissors_2,className:"scissors-p2 weapon"},r.a.createElement("img",{src:"./imgs/scissors-p2.svg",alt:"Scissors"})),r.a.createElement("div",{ref:this.Paper_2,className:"paper-p2 weapon"},r.a.createElement("img",{src:"./imgs/paper-p2.svg",alt:"Paper"})),r.a.createElement("div",{ref:this.Rock_2,className:"rock-p2 weapon"},r.a.createElement("img",{src:"./imgs/rock-p2.svg",alt:"Rock"}))),r.a.createElement("div",{className:"p1-name"},r.a.createElement("h2",null,this.props.player_one.player)),r.a.createElement("div",{className:"btn-container"},this.renderBtnFight()),r.a.createElement("div",{className:"p2-name"},r.a.createElement("h2",null,this.props.player_two.player)),r.a.createElement("div",{className:"life-p1"},r.a.createElement("div",null,r.a.createElement("h3",null,"Life")),r.a.createElement("div",{className:"life-bar"},r.a.createElement("div",{id:"life-p1",className:"bar",style:{width:"".concat(this.setLife(this.props.player_one.life),"%")}}))),r.a.createElement("div",{className:"life-p2"},r.a.createElement("div",null,r.a.createElement("h3",null,"Life")),r.a.createElement("div",{className:"life-bar"},r.a.createElement("div",{id:"life-p2",className:"bar",style:{width:"".concat(this.setLife(this.props.player_two.life),"%")}}))))),this.showWeapons())}}]),a}(n.Component)),X=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(p.a)(this,Object(l.a)(a).call(this,e))).saveRound=function(){var e={roundNumb:t.props.game[0].roundsNumb,winner:t.state.winner||"tie!"};t.props.incRound(t.props.game[0].id,e),t.props.history.push("/p1")},t.onFight=function(){var e=t.props.players[0].weapon,a=t.props.players[1].weapon,n=3,r=setInterval(function(){n>0?(t.setState({counter:n}),n--):(t.setState({counter:n}),t.chooseWinner(e,a),clearInterval(r))},1e3)},t.chooseWinner=function(){var e=Object(z.a)(q.a.mark(function e(a,n){var r;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(a,n);case 2:1===(r=e.sent)?(t.setState({winner:t.props.players[0].player}),t.props.lostLife(2)):2===r?(t.setState({winner:t.props.players[1].player}),t.props.lostLife(1)):t.setState({tie:"tie!"});case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),t.goToWinnerPage=function(){t.props.history.push("/winner")},t.state={round_num:1,counter:0,winner:"",tie:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentWillMount",value:function(){void 0!==this.props.players[0]&&void 0!==this.props.players[1]||this.props.history.push("/"),this.setState({round_num:this.props.game[0].roundsNumb})}},{key:"render",value:function(){return r.a.createElement(U,{player_one:this.props.players[0],player_two:this.props.players[1],round:this.state.round_num,counter:this.state.counter,tie:this.state.tie,winner:this.state.winner,onFight:this.onFight,saveRound:this.saveRound,goToWinnerPage:this.goToWinnerPage})}}]),a}(n.Component),Y={lostLife:N,incRound:b},Z=Object(d.b)(function(e){return{players:e.Players,game:e.Game}},Y)(X),ee=(t(55),function(e){function a(){return Object(o.a)(this,a),Object(p.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"WinnerView"},r.a.createElement("div",null,r.a.createElement("h1",null,"WE HAVE A WINNER!"),r.a.createElement("h1",null,this.props.winner," is the new Emperor of"),r.a.createElement("h1",{className:"games-of-drones"},"Game of drones!"),r.a.createElement("div",{className:"btn-container"},r.a.createElement("a",{className:"btn btn-active",href:"/"},"Play Again"))))}}]),a}(n.Component)),ae=t(27),te=t.n(ae),ne="https://immense-peak-89821.herokuapp.com/api/v1",re=function(e){return te.a.post("".concat(ne,"/create/player"),e).then(function(e){return e.data}).catch(function(e){return!1})},se=function(e){return te.a.post("".concat(ne,"/create/game"),e).then(function(e){return e.data}).catch(function(e){return!1})},ce=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(p.a)(this,Object(l.a)(a).call(this,e))).savePlayer=function(){var e=Object(z.a)(q.a.mark(function e(a){var t;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(a);case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.saveGame=function(){var e=Object(z.a)(q.a.mark(function e(a,t,n,r){var s,c;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={player_one:a,player_two:t,rounds:n,winner:r},e.next=3,se(s);case 3:if(!(c=e.sent)){e.next=6;break}return e.abrupt("return",c);case 6:case"end":return e.stop()}},e)}));return function(a,t,n,r){return e.apply(this,arguments)}}(),t.state={winner:"",game:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a,t=this;0===!this.props.players[0].life?this.setState({winner:this.props.players[0].player}):this.setState({winner:this.props.players[1].player});var n,r=this.props.game[0].rounds;this.savePlayer({name:this.props.players[0].player}).then(function(a){return n=a.name===t.state.winner?a._id:"",e=a._id,t.savePlayer({name:t.props.players[1].player})}).then(function(s){return n=s.name===t.state.winner?s._id:"",a=s._id,t.saveGame(e,a,r,n)}).catch(function(e){})}},{key:"render",value:function(){return r.a.createElement(ee,{winner:this.state.winner})}}]),a}(n.Component),oe=Object(d.b)(function(e){return{players:e.Players,game:e.Game}},{})(ce),ie=function(e){function a(){return Object(o.a)(this,a),Object(p.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,{store:P},r.a.createElement(m.a,null,r.a.createElement("main",{className:"App"},r.a.createElement(h.a,{exact:!0,path:"/",component:I}),r.a.createElement(h.a,{exact:!0,path:"/p1",component:T}),r.a.createElement(h.a,{exact:!0,path:"/p2",component:D}),r.a.createElement(h.a,{exact:!0,path:"/fight",component:Z}),r.a.createElement(h.a,{exact:!0,path:"/winner",component:oe}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ie,null),document.getElementById("main")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.b7990a41.chunk.js.map